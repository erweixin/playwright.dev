"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[8122],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return d}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),h=u(n),d=a,g=h["".concat(s,".").concat(d)]||h[d]||c[d]||o;return n?r.createElement(g,l(l({ref:t},p),{},{components:n})):r.createElement(g,l({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=h;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:a,l[1]=i;for(var u=2;u<o;u++)l[u]=n[u];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},4455:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(7294),a=n(6010),o="tabItem_Ymn6",l=Object.defineProperty,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c({children:e,hidden:t,className:n}){return r.createElement("div",((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&p(e,n,t[n]);if(i)for(var n of i(t))u.call(t,n)&&p(e,n,t[n]);return e})({role:"tabpanel",className:(0,a.Z)(o,n)},{hidden:t}),e)}},5332:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(7294),a=n(6010),o=n(4939),l=n(2174),i=n(2107),s=n(8757),u="tabList__CuJ",p="tabItem_LNqP",c=Object.defineProperty,h=Object.defineProperties,d=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&f(e,n,t[n]);if(g)for(var n of g(t))b.call(t,n)&&f(e,n,t[n]);return e};function w(e){var t,n;const{lazy:o,block:c,defaultValue:g,values:m,groupId:b,className:f}=e,w=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),v=null!=m?m:w.map((({props:{value:e,label:t,attributes:n}})=>({value:e,label:t,attributes:n}))),k=(0,l.l)(v,((e,t)=>e.value===t.value));if(k.length>0)throw new Error(`Docusaurus error: Duplicate values "${k.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const N=null===g?g:null!=(n=null!=g?g:null==(t=w.find((e=>e.props.default)))?void 0:t.props.value)?n:w[0].props.value;if(null!==N&&!v.some((e=>e.value===N)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${N}" but none of its children has the corresponding value. Available values are: ${v.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:P,setTabGroupChoices:O}=(0,i.U)(),[x,T]=(0,r.useState)(N),D=[],{blockElementScrollPositionUntilNextRender:E}=(0,s.o5)();if(null!=b){const e=P[b];null!=e&&e!==x&&v.some((t=>t.value===e))&&T(e)}const j=e=>{const t=e.currentTarget,n=D.indexOf(t),r=v[n].value;r!==x&&(E(t),T(r),null!=b&&O(b,String(r)))},C=e=>{var t,n;let r=null;switch(e.key){case"ArrowRight":{const n=D.indexOf(e.currentTarget)+1;r=null!=(t=D[n])?t:D[0];break}case"ArrowLeft":{const t=D.indexOf(e.currentTarget)-1;r=null!=(n=D[t])?n:D[D.length-1];break}}null==r||r.focus()};return r.createElement("div",{className:(0,a.Z)("tabs-container",u)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":c},f)},v.map((({value:e,label:t,attributes:n})=>{return r.createElement("li",(o=y({role:"tab",tabIndex:x===e?0:-1,"aria-selected":x===e,key:e,ref:e=>D.push(e),onKeyDown:C,onFocus:j,onClick:j},n),l={className:(0,a.Z)("tabs__item",p,null==n?void 0:n.className,{"tabs__item--active":x===e})},h(o,d(l))),null!=t?t:e);var o,l}))),o?(0,r.cloneElement)(w.filter((e=>e.props.value===x))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},w.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==x})))))}function v(e){const t=(0,o.Z)();return r.createElement(w,y({key:String(t)},e))}},9347:function(e,t,n){n.r(t),n.d(t,{assets:function(){return f},contentTitle:function(){return m},default:function(){return v},frontMatter:function(){return g},metadata:function(){return b},toc:function(){return y}});var r=n(3905),a=n(5332),o=n(4455),l=Object.defineProperty,i=Object.defineProperties,s=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&h(e,n,t[n]);if(u)for(var n of u(t))c.call(t,n)&&h(e,n,t[n]);return e};const g={id:"debug",title:"Debugging Tests"},m=void 0,b={unversionedId:"debug",id:"debug",title:"Debugging Tests",description:"The Playwright inspector is a great tool to help with debugging. It opens up a browser window highlighting the selectors as you step through each line of the test. You can also use the explore button to find other available selectors which you can then copy into your test file and rerun your tests to see if it passes. For debugging selectors, see here.",source:"@site/docs/debug.mdx",sourceDirName:".",slug:"/debug",permalink:"/dotnet/docs/next/debug",draft:!1,tags:[],version:"current",frontMatter:{id:"debug",title:"Debugging Tests"},sidebar:"docs",previous:{title:"Command line tools",permalink:"/dotnet/docs/next/cli"},next:{title:"Debugging Selectors",permalink:"/dotnet/docs/next/debug-selectors"}},f={},y=[{value:"Playwright Inspector",id:"playwright-inspector",level:2},{value:"PWDEBUG",id:"pwdebug",level:3},{value:"page.pause",id:"pagepause",level:3},{value:"Stepping through the Playwright script",id:"stepping-through-the-playwright-script",level:3},{value:"Actionability Logs",id:"actionability-logs",level:3},{value:"Exploring selectors",id:"exploring-selectors",level:3},{value:"Browser Developer Tools",id:"browser-developer-tools",level:2},{value:"Headed mode",id:"headed-mode",level:2}],w={toc:y};function v(e){var t,n=e,{components:l}=n,h=((e,t)=>{var n={};for(var r in e)p.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n})(n,["components"]);return(0,r.kt)("wrapper",(t=d(d({},w),h),i(t,s({components:l,mdxType:"MDXLayout"}))),(0,r.kt)("p",null,"The Playwright inspector is a great tool to help with debugging. It opens up a browser window highlighting the selectors as you step through each line of the test. You can also use the explore button to find other available ",(0,r.kt)("a",d({parentName:"p"},{href:"/dotnet/docs/next/selectors"}),"selectors")," which you can then copy into your test file and rerun your tests to see if it passes. For debugging selectors, see ",(0,r.kt)("a",d({parentName:"p"},{href:"/dotnet/docs/next/debug-selectors"}),"here"),"."),(0,r.kt)("h2",d({},{id:"playwright-inspector"}),"Playwright Inspector"),(0,r.kt)("p",null,"Playwright Inspector is a GUI tool that helps authoring and debugging Playwright scripts. That's our default recommended tool for scripts troubleshooting."),(0,r.kt)("img",{width:"712",alt:"Playwright Inspector",src:"https://user-images.githubusercontent.com/883973/108614092-8c478a80-73ac-11eb-9597-67dfce110e00.png"}),(0,r.kt)("p",null,"There are several ways of opening Playwright Inspector:"),(0,r.kt)("h3",d({},{id:"pwdebug"}),"PWDEBUG"),(0,r.kt)("p",null,"Set the ",(0,r.kt)("inlineCode",{parentName:"p"},"PWDEBUG")," environment variable to run your scripts in debug mode. This configures Playwright for debugging and opens the inspector."),(0,r.kt)(a.Z,{groupId:"bash-flavor",defaultValue:"bash",values:[{label:"Bash",value:"bash"},{label:"PowerShell",value:"powershell"},{label:"Batch",value:"batch"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"bash",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-bash"}),"PWDEBUG=1 dotnet test\n"))),(0,r.kt)(o.Z,{value:"powershell",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-powershell"}),"$env:PWDEBUG=1\ndotnet test\n"))),(0,r.kt)(o.Z,{value:"batch",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-batch"}),"set PWDEBUG=1\ndotnet test\n")))),(0,r.kt)("p",null,"Additional useful defaults are configured when ",(0,r.kt)("inlineCode",{parentName:"p"},"PWDEBUG=1")," is set:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Browsers launch in the headed mode"),(0,r.kt)("li",{parentName:"ul"},"Default timeout is set to 0 (= no timeout)")),(0,r.kt)("p",null,"Using ",(0,r.kt)("inlineCode",{parentName:"p"},"PWDEBUG=console")," will configure the browser for debugging in Developer tools console:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Runs headed"),": Browsers always launch in headed mode"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Disables timeout"),": Sets default timeout to 0 (= no timeout)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Console helper"),": Configures a ",(0,r.kt)("inlineCode",{parentName:"li"},"playwright")," object in the browser to generate and highlight ",(0,r.kt)("a",d({parentName:"li"},{href:"/dotnet/docs/next/selectors"}),"Playwright selectors"),". This can be used to verify text or composite selectors.")),(0,r.kt)("h3",d({},{id:"pagepause"}),"page.pause"),(0,r.kt)("p",null,"Call ",(0,r.kt)("a",d({parentName:"p"},{href:"/dotnet/docs/next/api/class-page#page-pause"}),"Page.PauseAsync()")," method from your script when running in headed browser."),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-csharp"}),"// Pause on the following line.\nawait page.PauseAsync();\n")),(0,r.kt)("p",null,"Use ",(0,r.kt)("inlineCode",{parentName:"p"},"open")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"codegen")," commands in the Playwright ",(0,r.kt)("a",d({parentName:"p"},{href:"/dotnet/docs/next/cli"}),"CLI"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-bash"}),"pwsh bin\\Debug\\netX\\playwright.ps1 codegen wikipedia.org\n")),(0,r.kt)("h3",d({},{id:"stepping-through-the-playwright-script"}),"Stepping through the Playwright script"),(0,r.kt)("p",null,"The Inspector opens up a browser window highlighting the selectors as you step through each line of the test. Use the explore button to find other available ",(0,r.kt)("a",d({parentName:"p"},{href:"/dotnet/docs/next/selectors"}),"selectors")," which you can then copy into your test file and rerun your tests to see if they pass."),(0,r.kt)("img",{width:"557",alt:"Paused on line",src:"https://user-images.githubusercontent.com/883973/108614337-71761580-73ae-11eb-9f61-3d29c52c9520.png"}),(0,r.kt)("p",null,'Use the toolbar to play the test or step over each action using the "Step over" action (keyboard shortcut: ',(0,r.kt)("inlineCode",{parentName:"p"},"F10"),") or resume script without further pauses (",(0,r.kt)("inlineCode",{parentName:"p"},"F8"),"):"),(0,r.kt)("center",null,(0,r.kt)("img",{width:"98",alt:"Stepping toolbar",src:"https://user-images.githubusercontent.com/883973/108614389-f9f4b600-73ae-11eb-8df2-8d9ce9da5d5c.png"})),(0,r.kt)("p",null,"Now we know what action is about to be performed and we can look into the details on that action. For example, when stopped on an input action such as ",(0,r.kt)("inlineCode",{parentName:"p"},"click"),", the exact point Playwright is about to click is highlighted with the large red dot on the inspected page:"),(0,r.kt)("img",{width:"344",alt:"Red dot on inspected page",src:"https://user-images.githubusercontent.com/883973/108614363-b69a4780-73ae-11eb-8f5e-51f9c91ec9b4.png"}),(0,r.kt)("h3",d({},{id:"actionability-logs"}),"Actionability Logs"),(0,r.kt)("p",null,"By the time Playwright has paused on that click action, it has already performed ",(0,r.kt)("a",d({parentName:"p"},{href:"/dotnet/docs/next/actionability"}),"actionability checks")," that can be found in the log:"),(0,r.kt)("img",{width:"712",alt:"Action log",src:"https://user-images.githubusercontent.com/883973/108614564-72a84200-73b0-11eb-9de2-828b28d78b36.png"}),(0,r.kt)("p",null,"If actionability can't be reached, it'll show action as pending:"),(0,r.kt)("img",{width:"712",alt:"Pending action",src:"https://user-images.githubusercontent.com/883973/108614840-e6e3e500-73b2-11eb-998f-0cf31b2aa9a2.png"}),(0,r.kt)("h3",d({},{id:"exploring-selectors"}),"Exploring selectors"),(0,r.kt)("p",null,"Use the Explore button to hover over an element on the page and explore it's selector by clicking on it. You can then copy this selector into your tests and rerun your tests to see if they now pass with this selector. You can also debug selectors, checkout our ",(0,r.kt)("a",d({parentName:"p"},{href:"/dotnet/docs/next/debug-selectors"}),"debugging selectors")," guide for more details."),(0,r.kt)("h2",d({},{id:"browser-developer-tools"}),"Browser Developer Tools"),(0,r.kt)("p",null,"You can use browser developer tools in Chromium, Firefox and WebKit while running a Playwright script in headed mode. Developer tools help to:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Inspect the DOM tree and ",(0,r.kt)("strong",{parentName:"li"},"find element selectors")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"See console logs")," during execution (or learn how to ",(0,r.kt)("a",d({parentName:"li"},{href:"/dotnet/docs/next/api/class-page#page-event-console"}),"read logs via API"),")"),(0,r.kt)("li",{parentName:"ul"},"Check ",(0,r.kt)("strong",{parentName:"li"},"network activity")," and other developer tools features")),(0,r.kt)("a",{href:"https://user-images.githubusercontent.com/284612/77234134-5f21a500-6b69-11ea-92ec-1c146e1333ec.png"},(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/284612/77234134-5f21a500-6b69-11ea-92ec-1c146e1333ec.png",width:"500",alt:"Chromium Developer Tools"})),(0,r.kt)("p",null,"Using a ",(0,r.kt)("a",d({parentName:"p"},{href:"/dotnet/docs/next/api/class-page#page-pause"}),"Page.PauseAsync()")," method is an easy way to pause the Playwright script execution and inspect the page in Developer tools. It will also open Playwright Inspector to help with debugging."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"For Chromium"),": you can also open developer tools through a launch option."),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-csharp"}),"await using var browser = await playwright.Chromium.LaunchAsync(new()\n{\n  Devtools: true\n});\n")),(0,r.kt)("admonition",d({},{type:"note"}),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"For WebKit"),": launching WebKit Inspector during the execution will prevent the Playwright script from executing any further.")),(0,r.kt)("h2",d({},{id:"headed-mode"}),"Headed mode"),(0,r.kt)("p",null,"Playwright runs browsers in headless mode by default. To change this behavior, use ",(0,r.kt)("inlineCode",{parentName:"p"},"headless: false")," as a launch option. You can also use the ",(0,r.kt)("inlineCode",{parentName:"p"},"slowMo")," option to slow down execution and follow along while debugging."),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-csharp"}),"// Chromium, Firefox, or Webkit\nawait using var browser = await playwright.Chromium.LaunchAsync(new()\n{\n    Headless = false,\n    SlowMo = 100\n});\n")))}v.isMDXComponent=!0}}]);